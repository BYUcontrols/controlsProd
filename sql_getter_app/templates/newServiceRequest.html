{% extends "layout.html" %}

{% block content %}


<!-- Here we pass data to the javascript about the table by attaching them to the window object
the curly brackets are places that the template will fill with the arguments of render_template() -->
<script>
    // we sanitize the data by passing it through JSON (a standard for converting objects to strings and vice versa)
    $SCRIPT_ROOT = JSON.parse('{{request.script_root|tojson}}');
    let requestors = JSON.parse('{{requestors|tojson}}');
    let priorities = JSON.parse('{{priorities|tojson}}');
    let serviceTypes = JSON.parse('{{serviceTypes|tojson}}');
    let assignedTo = JSON.parse('{{assignedTo|tojson}}');
    let building = JSON.parse('{{building|tojson}}');
    let status = JSON.parse('{{status|tojson}}');
    let nextId = JSON.parse('{{nextId|tojson}}');
    let userNextId = JSON.parse('{{userNextId|tojson}}');
    let userName = JSON.parse('{{userName|tojson}}');
    let vendors = JSON.parse('{{vendors|tojson}}');
    let roles = JSON.parse('{{roles|tojson}}');
    let newRequestor = JSON.parse('{{newRequestor|tojson}}');
    let servReq = JSON.parse('{{servReq|tojson}}');
    let message = JSON.parse('{{message|tojson}}');
    let userIsTech = JSON.parse('{{userIsTech|tojson}}');
    let items = JSON.parse('{{items|tojson}}');
    let itemStatus = JSON.parse('{{itemStatus|tojson}}');
    let itemvendors = JSON.parse('{{itemvendors|tojson}}');
    let manufacturers = JSON.parse('{{manufacturers|tojson}}');
    let deviceTypes = JSON.parse('{{deviceTypes|tojson}}');
    let deviceSubTypes = JSON.parse('{{deviceSubTypes|tojson}}');
    let itemDesc = JSON.parse('{{itemDesc|tojson}}');
    let userFullName = JSON.parse('{{userFullName|tojson}}');
</script>
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/serviceRequests/serReqForm.css') }}">


<br>
<h1 class="title" id="title">
    {% if servReq %}
        Edit Service Request
    {% else %}
        New Service Request
    {% endif %}
</h1>
<br>


<!-- this form is built in editSr.js and its data is handled in ... -->
<div id='form-holder'></div>

<!--Not sure if this is necessary, so don't delete-->
<div id='inputNew' class='inputNew'></div>
{% endblock %}